<!doctype html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <form method="post" enctype="multipart/form-data" id="form" action="upload">
        <div id="box">
            <button class="select-button">选择文件</button>
            <input class="file-input" type="file" id="select" />
        </div>
    </form>
    <script src="../node_modules/leancloud-storage/dist/av-min.js"></script>
    <script>
        console.log(window.AV)
        AV.init({
            appId: "NfptNwamDHA9VDTGMiSaSAFy-gzGzoHsz",
            appKey: "KA6pShPTmYEhxNWRulVHYcrF",
            serverURLs: "https://nfptnwam.lc-cn-n1-shared.com"
        });
        // //create data base
        // var TestObject = AV.Object.extend('Playlist');
        // //create a test object
        // var testObject = new TestObject();
        // //insert a record
        // testObject.set({
        //     name: 'test',
        //     cover: 'test',
        //     creatorId: 'test',
        //     description:'test',
        //     songs:['1','2']
        // });
        // testObject.save().then(function (testObject) {
        //     console.log('保存成功。')
        // })
        var file
        var key
        var token
        var putExtra = {
            fname: "",
            params: {},
            mimeType: null
        };
        var config = {
            useCdnDomain: true,
            region: null
        };
        var observable = qiniu.upload(file, key, token, putExtra, config)

        var subscription = observable.subscribe(observer) // 上传开始

        subscription.unsubscribe() // 上传取消

    </script>
    <script src="../node_modules/qiniu-js/dist/qiniu.min.js"></script>
    <script>
        console.log(qiniu)
    </script>
</body>
</html>
